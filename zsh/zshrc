
rec_find() {
    local f
    for f in "$1"/*; do
        [[ -d $f ]] && rec_find "$f"
        [[ -f $f ]] && [[ $f == *.zsh ]] && source $f
    done
}


color_prompt() {
    autoload -U colors && colors
    export PS1="%B%{$fg[red]%}[%{$fg[yellow]%}%n%{$fg[green]%}@%{$fg[blue]%}%M %{$fg[magenta]%}%~%{$fg[red]%}]%{$reset_color%}$%b "
    colorscript -r
}


TRAPUSR1() { rehash }

color_prompt

rec_find "$ZDOTDIR"
