source $ZPLUG_HOME/init.zsh

zplug "zsh-users/zsh-completions"
zplug "zsh-users/zsh-autosuggestions"
zplug "zdharma/fast-syntax-highlighting", defer:2
zplug 'zdharma/history-search-multi-word'
zstyle :plugin:history-search-multi-word reset-prompt-protect 1
zplug 'plugins/globalias', from:oh-my-zsh, hook-load:'bindkey \"^ \" globalias && bindkey \" \" magic-space'
zplug "modules/completion", from:prezto

zplug 'dracula/zsh', as:theme

if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

zplug load --verbose

if zplug check zsh-users/zsh-autosuggestions; then
    export ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=40
fi